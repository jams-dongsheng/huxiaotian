<!DOCTYPE html>
<html>
<head>
    <!-- 页面meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>后台管理系统</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"> 
    <link rel="stylesheet" href="../plugins/bootstrap/css/bootstrap.min.css">

    <link rel="stylesheet" href="../plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/jquery-pie-loader.css">

    <script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>

    <script src="../plugins/bootstrap/js/bootstrap.min.js"></script>

</head>
<style>
    canvas{
        width: 1200px!important;
    }

    body{
        background-color: #333;
    }

    #container{
        width: 1200px;
        height: 600px;
        background-image: url("../../day09-20181213/nybj.png");
        background-size: 100% 100%;
        margin: auto;

    }


</style>
<body class="hold-transition skin-blue sidebar-mini">

   <!-- 内容区域 -->


            <!-- 内容头部 -->
            <section class="content-header">
                <h1>
                    鹰啸天酒店
                    <small>首页</small>
                </h1>
               <!-- <ol class="breadcrumb">
                    <li><a href="all-admin-index.html"><i class="fa fa-dashboard"></i> 首页</a></li>
                </ol>-->
            </section>
            <!-- 内容头部 /-->
   <section class="content">


       <!-- 统计数值 -->
       <div class="row">
           <div class="col-lg-3 col-xs-6">
               <!-- small box -->
               <div class="small-box bg-aqua">
                   <div class="inner">
                       <h3>150</h3>

                       <p>新订单</p>
                   </div>
                   <div class="icon">
                       <i class="ion ion-bag"></i>
                   </div>
                   <a href="all-order-manage-list.html" class="small-box-footer">详细 <i class="fa fa-arrow-circle-right"></i></a>
               </div>
           </div>
           <!-- ./col -->
           <div class="col-lg-3 col-xs-6">
               <!-- small box -->
               <div class="small-box bg-green">
                   <div class="inner">
                       <h3>53<sup style="font-size: 20px">%</sup></h3>

                       <p>转化率</p>
                   </div>
                   <div class="icon">
                       <i class="ion ion-stats-bars"></i>
                   </div>
                   <a href="all-ad-statistics-list.html" class="small-box-footer">详细 <i class="fa fa-arrow-circle-right"></i></a>
               </div>
           </div>
           <!-- ./col -->
           <div class="col-lg-3 col-xs-6">
               <!-- small box -->
               <div class="small-box bg-yellow">
                   <div class="inner">
                       <h3>44</h3>

                       <p>新注册用户</p>
                   </div>
                   <div class="icon">
                       <i class="ion ion-person-add"></i>
                   </div>
                   <a href="all-member-manage-list.html" class="small-box-footer">详细 <i class="fa fa-arrow-circle-right"></i></a>
               </div>
           </div>
           <!-- ./col -->
           <div class="col-lg-3 col-xs-6">
               <!-- small box -->
               <div class="small-box bg-red">
                   <div class="inner">
                       <h3>65</h3>

                       <p>日PV</p>
                   </div>
                   <div class="icon">
                       <i class="ion ion-pie-graph"></i>
                   </div>
                   <a href="all-ad-statistics-list.html" class="small-box-footer">详细 <i class="fa fa-arrow-circle-right"></i></a>
               </div>
           </div>
           <!-- ./col -->
       </div>
       <!-- /.row -->
   </section>

   <div id="container"></div>

            <!-- 正文区域 -->

    <!--轮播展示-->
<!--                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" align="center">-->
<!--                    &lt;!&ndash; Indicators &ndash;&gt;-->
<!--                    <ol class="carousel-indicators">-->
<!--                        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>-->
<!--                        <li data-target="#carousel-example-generic" data-slide-to="1"></li>-->
<!--                        <li data-target="#carousel-example-generic" data-slide-to="2"></li>-->
<!--                        <li data-target="#carousel-example-generic" data-slide-to="3"></li>-->
<!--                    </ol>-->

<!--                    &lt;!&ndash; Wrapper for slides &ndash;&gt;-->
<!--                    <div class="carousel-inner" role="listbox">-->
<!--                        <div class="item active">-->
<!--                            <img src="../img1/lbt1.jpg" alt="...">-->
<!--                        </div>-->
<!--                        <div class="item">-->
<!--                            <img src="../img1/lbt2.jpg" alt="...">-->
<!--                        </div>-->
<!--                        <div class="item">-->
<!--                            <img src="../img1/lbt3.jpg" alt="...">-->
<!--                        </div>-->
<!--                        <div class="item">-->
<!--                            <img src="../img1/lbt4.jpg" alt="...">-->
<!--                        </div>-->
<!--                    </div>-->

<!--                   &lt;!&ndash; &lt;!&ndash; Controls &ndash;&gt;-->
<!--                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">-->
<!--                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>-->
<!--                        <span class="sr-only">Previous</span>-->
<!--                    </a>-->
<!--                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">-->
<!--                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>-->
<!--                        <span class="sr-only">Next</span>-->
<!--                    </a>&ndash;&gt;-->
<!--                </div>-->
<!--            </section>-->
            <!-- 正文区域 /-->

        <!-- 内容区域 /-->
</body>
<script>
    var obj = {
        id:"container",
        width:1300,
        height:500,
        datas:[
            {
                name:"西安",
                color:"red",
                data:[30,20,40,21,23,16,33,20,13,21,10,1]
            },
            {
                name:"宝鸡",
                color:"orange",
                data:[26,21,33,30,24,20,25,10,8,5,8,10]
            },
            {
                name:"汉中",
                color:"green",
                data:[42,33,28,18,20,33,25,16,15 ,16,23,3]
            },

        ],
        startX:60,
        startY:450,
        labelColor:"white",
        labelCount:10,
        nameSpace : 80,
        circleColor:"blue",
        tip:"陕西省各个城市12个月的平均销售额"
    };

    drawLine1(obj);
    function drawLine1(obj) {
        var id = obj.id;
        var datas = obj.datas;
        var width = obj.width;
        var height = obj.height;
        var startX = obj.startX;
        var startY = obj.startY;
        var labelColor = obj.labelColor;
        var labelCount = obj.labelCount;
        var nameSpace = obj.nameSpace;
        var tip = obj.tip;
        var circleColor = obj.circleColor;

        var container = document.getElementById(id);
        var canvas = document.createElement("canvas");
        canvas.width = width;
        canvas.height = height;
        canvas.style.border = "1px solid red";
        container.appendChild(canvas);
        var cvs = canvas.getContext("2d");
        cvs.beginPath();
        cvs.strokeStyle = "white";
        var startY1 = 50;
        cvs.moveTo(startX, startY1);
        cvs.lineTo(startX, startY);
        cvs.lineTo(1200, startY);
        cvs.stroke();
        var length = datas.length;
        var length1 = datas[0].data.length;
        var maxNum = 0;
        for(var i = 0;i < length;i++){
            for (var j = 0;j < length1;j++){
                if (maxNum <= datas[i].data[j]) {
                    maxNum = datas[i].data[j];
                }
            }
        }

        maxNum = maxNum * 1.1;
        var increment =  (startY - startY1) / maxNum;
        var labelSpace = (startY - startY1) / labelCount;
        for (var i = 0; i <= labelCount; i++) {
            var text = Math.round((maxNum / labelCount) * i);
            cvs.beginPath();
            cvs.fillStyle = labelColor;
            cvs.fillText(text, startX - 40, startY - (labelSpace * i ) );
            cvs.closePath();
            cvs.fill();
        }

        var start = 0;
        var end = 0;
        var titleSpace = 30;

        for (let i = 0;i < length ;i++) {
            var k = 100;

            for (let j = 0; j < length1; j++) {

                // end = length1 * (i + 1);
                // start = i * length1;
                //折线
                setTimeout(function () {
                    cvs.beginPath();
                    cvs.strokeStyle = datas[i].color;
                    cvs.moveTo(startX + nameSpace * (j + 1), (startY1 + (maxNum - datas[i].data[j]) * increment ));
                    cvs.lineTo(startX + nameSpace * (j + 2), (startY1 + (maxNum - datas[i].data[j + 1]) * increment));
                    cvs.stroke();
                }, k += 100);

                end = length1 * (i + 1);
                start = i * length1;
                //圆点
                cvs.beginPath();
                cvs.fillStyle = circleColor;
                cvs.arc(startX + nameSpace * (j + 1), (startY1 + (maxNum - datas[i].data[j]) * increment ), 4, 0, Math.PI * 2)
                cvs.closePath();
                cvs.fill();



            }
            cvs.beginPath();
            cvs.strokeStyle = datas[i].color;
            cvs.moveTo(1050, 40 + titleSpace * i);
            cvs.lineTo(1100, 40 + titleSpace * i);
            cvs.stroke();
            cvs.closePath();

            cvs.beginPath();
            cvs.fillStyle = datas[i].color;
            cvs.font = "15px 宋体";
            cvs.fillText(datas[i].name, 1130, 45 + titleSpace * i);
            cvs.stroke();
            cvs.closePath();


        }
        cvs.beginPath();
        cvs.fillStyle = labelColor;
        cvs.fillText(tip,20,30);
        cvs.closePath();
        cvs.fill();
        for(var k = 0;k < length1;k++){
            cvs.beginPath();
            cvs.fillStyle = labelColor;
            cvs.fillText((k + 1) + "月份", startX + nameSpace * (k + 1) - 10, startY + 30 );
            cvs.closePath();
            cvs.fill();
        }



    }
</script>



</html>